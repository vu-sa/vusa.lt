/**
 * Custom Driver.js theming to match Shadcn/Vue design system
 * 
 * This file contains visual styling for the product tour.
 * Behavioral options (like disableActiveInteraction, allowClose) 
 * are configured in useProductTour.ts via Driver.js config.
 */

/* Popover container styling */
.driver-popover {
  background-color: white !important;
  color: #18181b !important;
  border: 1px solid #e4e4e7 !important;
  border-radius: 0.5rem !important;
  box-shadow: 
    0 10px 15px -3px rgb(0 0 0 / 0.1), 
    0 4px 6px -4px rgb(0 0 0 / 0.1),
    0 0 0 1px rgb(0 0 0 / 0.05) !important;
  padding: 1.25rem !important;
  max-width: 380px !important;
}

/* Dark mode support */
.dark .driver-popover {
  background-color: #18181b !important;
  color: #fafafa !important;
  border-color: #3f3f46 !important;
  box-shadow: 
    0 10px 15px -3px rgb(0 0 0 / 0.4), 
    0 4px 6px -4px rgb(0 0 0 / 0.3),
    0 0 0 1px rgb(255 255 255 / 0.05) !important;
}

/* Popover arrow styling */
.driver-popover-arrow {
  border: 1px solid #e4e4e7 !important;
  background-color: white !important;
}

.dark .driver-popover-arrow {
  border-color: #3f3f46 !important;
  background-color: #18181b !important;
}

/* Arrow side-specific styling to hide borders on connected side */
.driver-popover-arrow-side-top {
  border-top: none !important;
  border-right: none !important;
}

.driver-popover-arrow-side-bottom {
  border-bottom: none !important;
  border-left: none !important;
}

.driver-popover-arrow-side-left {
  border-left: none !important;
  border-top: none !important;
}

.driver-popover-arrow-side-right {
  border-right: none !important;
  border-bottom: none !important;
}

/* Title styling */
.driver-popover-title {
  font-size: 1.375rem !important;
  font-weight: 600 !important;
  line-height: 1.15 !important;
  letter-spacing: -0.025em !important;
  color: #18181b !important;
  margin-bottom: 0.75rem !important;
}

.dark .driver-popover-title {
  color: #fafafa !important;
}

/* Description styling */
.driver-popover-description {
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
  color: #52525b !important;
  margin-bottom: 1rem !important;
}

.dark .driver-popover-description {
  color: #a1a1aa !important;
}

/* Footer styling */
.driver-popover-footer {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.75rem !important;
  margin-top: 0.5rem !important;
  padding-top: 0.75rem !important;
  border-top: 1px solid #e4e4e7 !important;
}

.dark .driver-popover-footer {
  border-top-color: #3f3f46 !important;
}

/* Progress text styling */
.driver-popover-progress-text {
  font-size: 0.75rem !important;
  color: #71717a !important;
  font-weight: 500 !important;
}

.dark .driver-popover-progress-text {
  color: #a1a1aa !important;
}

/* Button container */
.driver-popover-navigation-btns {
  display: flex !important;
  gap: 0.5rem !important;
}

/* Base button styling matching Shadcn Button */
.driver-popover-prev-btn,
.driver-popover-next-btn {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  padding: 0.5rem 1rem !important;
  border-radius: 0.375rem !important;
  cursor: pointer !important;
  transition: all 150ms ease !important;
  line-height: 1.25 !important;
  /* Ensure no text duplication from pseudo-elements */
  text-shadow: none !important;
}

/* Prevent any pseudo-element content */
.driver-popover-prev-btn::before,
.driver-popover-prev-btn::after,
.driver-popover-next-btn::before,
.driver-popover-next-btn::after {
  content: none !important;
  display: none !important;
}

/* Previous button - ghost/outline style */
.driver-popover-prev-btn {
  background-color: transparent !important;
  color: #18181b !important;
  border: 1px solid #e4e4e7 !important;
}

.driver-popover-prev-btn:hover {
  background-color: #f4f4f5 !important;
}

.dark .driver-popover-prev-btn {
  color: #fafafa !important;
  border-color: #3f3f46 !important;
}

.dark .driver-popover-prev-btn:hover {
  background-color: #27272a !important;
}

/* Close button - subtle style (shown for voluntary tours) */
.driver-popover-close-btn {
  position: absolute !important;
  top: 0.75rem !important;
  right: 0.75rem !important;
  width: 1.5rem !important;
  height: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background-color: transparent !important;
  color: #71717a !important;
  border: none !important;
  border-radius: 0.25rem !important;
  cursor: pointer !important;
  transition: all 150ms ease !important;
  padding: 0 !important;
  font-size: 1.25rem !important;
  line-height: 1 !important;
}

.driver-popover-close-btn:hover {
  background-color: #f4f4f5 !important;
  color: #18181b !important;
}

.dark .driver-popover-close-btn {
  color: #a1a1aa !important;
}

.dark .driver-popover-close-btn:hover {
  background-color: #27272a !important;
  color: #fafafa !important;
}

/* Next/Done button - primary style */
.driver-popover-next-btn {
  background-color: #18181b !important;
  color: #fafafa !important;
  border: none !important;
  font-weight: 600 !important;
}

.driver-popover-next-btn:hover {
  background-color: #27272a !important;
}

.dark .driver-popover-next-btn {
  background-color: #fafafa !important;
  color: #18181b !important;
}

.dark .driver-popover-next-btn:hover {
  background-color: #e4e4e7 !important;
}

/* Disabled button state */
.driver-popover-prev-btn:disabled,
.driver-popover-next-btn:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* Overlay styling - base opacity is set via JS (overlayOpacity: 0.75) */
/* For dark mode, we target the SVG path element directly */
.dark .driver-overlay svg path {
  fill-opacity: 0.85 !important;
}

/* Highlighted element styling - remove any darkening effects */
.driver-active-element {
  /* Subtle border glow only, no box-shadow that might darken */
  outline: 2px solid rgba(24, 24, 27, 0.2) !important;
  outline-offset: 4px !important;
}

.dark .driver-active-element {
  outline-color: rgba(250, 250, 250, 0.3) !important;
}

/* Stage (the cutout around highlighted element) styling */
/* Custom popover class for additional specificity if needed */

/* Animation improvements */
.driver-fade .driver-popover {
  animation: vusa-popover-fade-in 200ms ease-out !important;
}

@keyframes vusa-popover-fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Welcome step (no element highlighted) - center the popover */
.driver-popover.vusa-tour-popover-welcome {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
}

/* Hide arrow for welcome step */
.driver-popover.vusa-tour-popover-welcome .driver-popover-arrow {
  display: none !important;
}
